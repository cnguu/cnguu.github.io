<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>月上陌阡</title>
    <meta name="description" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="月上陌阡" />
    <meta property="og:site_name" content="月上陌阡" />
    <meta property="og:locale" content="zh-CN" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="月上陌阡" />
    <link rel="icon" href="/20171231/favicon.ico">
    <link rel="manifest" href="/20171231/manifest.json">
    <link rel="apple-touch-icon" href="/20171231/logo64.png">
    <script src="//at.alicdn.com/t/font_728137_k56uup902ar.js"></script> <meta name="description" content="责难无以成事">
    <meta name="keywords" content="WSL,优雅,Coding">
    <meta name="theme-color" content="#7546c9">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/20171231/logo64.png">
    <meta name="msapplication-TileColor" content="#000000"> <link rel="preload" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/css/0.styles.92171da3.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/app.a84daea7.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/52.d63fb077.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/1.5f013fe0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/11.45d8e8e1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/12.b62a48a7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/13.218dc2cf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/14.804737c7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/15.8bc038d8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/16.4b3744e8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/17.a789b5cf.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/18.4bc21a3f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/19.94f34e6a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/2.abcec1fe.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/20.1a7b611b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/21.a5165d4c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/22.1d7cdb26.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/23.8734ae90.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/24.e47ba620.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/25.51730df2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/26.ea74a139.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/27.bc5e787c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/28.f035ac33.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/29.0e15e8c6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/3.5c175a06.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/30.ea8d2bba.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/31.d868fff2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/32.4b55e505.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/33.bb9cd168.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/34.c4bb6dab.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/35.5b7a5691.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/36.d0340b20.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/37.1583ca9f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/38.8905b11f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/39.ec60661f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/4.d079d3c1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/40.aa369c9b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/41.3c981846.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/42.14becb15.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/43.5c6f0ca7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/44.2e89fef7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/45.795c028e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/46.40206a5c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/47.ea7146a0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/48.56be3f01.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/49.f77c307f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/5.608222b8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/50.2254b7a6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/51.251b234a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/53.1f05484a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/54.3c4ae597.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/55.6b8285a8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/56.603c735c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/57.2a405d80.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/58.6dfa2d17.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/59.08c87d3a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/6.7a2e4dc7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/60.a33246ed.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/61.d784cfe8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/62.303d8046.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/63.95110de4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/64.7da724ed.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/65.957f701c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/66.2f244fc7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/67.044fbb20.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/68.194d80c4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/69.558ec377.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/7.2f4723b0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/70.9b4c6535.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/71.076ff891.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/72.7f57226e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/73.46969bd7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/74.2a6576dc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/75.24a3e119.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/76.d9950ae7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/77.d0abacc6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/78.02d9e17f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/79.e07bf913.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/8.1782205f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/80.c263fa8b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/81.4b3068ed.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/82.c072f0e3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/83.f171777f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/84.22b145f0.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/85.0ccea759.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/86.3090748f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/87.96cc4a30.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/88.ee90ebf5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/9.e66f4295.js"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/css/0.styles.92171da3.css">
  </head>
  <body>
    <noscript>
      JavaScript fails to load.
    </noscript>
    <div id="app" data-server-rendered="true"><div id="yur"><header id="header"><div class="header-container"><div class="header-container-logo"><a href="/" class="router-link-active"><img src="/20171231/logo48.png" alt="月上陌阡"> <svg width="36px" height="26px" xmlns="http://www.w3.org/2000/svg"><g><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #3498db" fill="none" stroke="#3498db" stroke-width="1px" stroke-dasharray="90 310">
                  Yur
                  <animate attributeName="stroke-dashoffset" begin="-1.5s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #f39c12" fill="none" stroke="#f39c12" stroke-width="1px" stroke-dasharray="90 310">
                  Yur
                  <animate attributeName="stroke-dashoffset" begin="-3s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #e74c3c" fill="none" stroke="#e74c3c" stroke-width="1px" stroke-dasharray="90 310">
                  Yur
                  <animate attributeName="stroke-dashoffset" begin="-4.5s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #9b59b6" fill="none" stroke="#9b59b6" stroke-width="1px" stroke-dasharray="90 310">
                  Yur
                  <animate attributeName="stroke-dashoffset" begin="-6s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text></g></svg></a></div> <ul role="menu" class="header-container-menu ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="header-container-menu-item ant-menu-submenu ant-menu-submenu-horizontal ant-menu-submenu-selected"><div aria-haspopup="true" class="ant-menu-submenu-title"><span><span>
                分类
                <i aria-label="图标: caret-down" class="header-container-menu-sub-icon anticon anticon-caret-down"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="caret-down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"></path></svg></i></span></span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="header-container-menu-item ant-menu-item"><a href="/links.html">
              友人帐
            </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="header-container-menu-item ant-menu-item"><a href="/about.html">
              关于我
            </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <div class="header-container-menu-mobile"><i aria-label="图标: align-right" class="anticon anticon-align-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="align-right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"></path></svg></i></div></div></header> <main id="main"><div id="post"><div class="post-banner"><div class="background-image" style="height:280px;background-image:url(https://cdn.jsdelivr.net/gh/cnguu/pic@master/20171231/banners/bc8cd22dd19d42b85dfa8abc871215bf.jpg);"></div></div> <div class="post-content"><div class="post-content-header"><h1>
        WSL 下优雅地 Coding
      </h1></div> <div id="markdown"><div class="content__default"><h2 id="wsl-简介"><a href="#wsl-简介" class="header-anchor">#</a> WSL 简介</h2> <p>WSL：Windows Subsystem for Linux，Windows 系统下的 Linux 子系统</p> <blockquote><p>本文所用 WSL 版本为 1.0</p></blockquote> <h2 id="wsl-安装"><a href="#wsl-安装" class="header-anchor">#</a> WSL 安装</h2> <p>打开 <code>控制面板</code> =&gt; <code>卸载程序</code> =&gt; <code>启用或关闭 Windows 功能</code></p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/rtjWkAK5uHDadPve.png" alt="WSL下优雅地Coding"></p> <p>勾选 <code>适用于 Linux 的 Windows 子系统</code>，确定后等待安装并重启电脑</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/gOqzf5uXLH9wD2Ux.png" alt="WSL下优雅地Coding"></p> <p>重启后，打开 <code>Microsoft Store</code> ，找到 <code>Ubuntu 18.04 LTS</code> 并安装</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/jQWOJ8RgrF3lo6Mz.png" alt="WSL下优雅地Coding"></p> <h2 id="ubuntu-初始化"><a href="#ubuntu-初始化" class="header-anchor">#</a> Ubuntu 初始化</h2> <p>安装成功后打开</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/MTIp8QEKhOW5D0vV.png" alt="WSL下优雅地Coding"></p> <p>等待几十秒后，即可设置用户名和密码，建议设置 <code>root</code> 密码</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">passwd</span> root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>sudo</code> 每次都需要输入密码，过于麻烦，去掉（任性.jpg）</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> visudo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改如下内容，<code>Ctrl</code>+<code>o</code> 后回车保存，<code>Ctrl</code>+<code>x</code> 退出编辑即可</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>·
·
·
# %admin ALL=(ALL) ALL 这里注释掉，新增下面一条
%admin ALL=(ALL) NOPASSWD:ALL
·
·
·
# %sudo ALL=(ALL:ALL) ALL 这里注释掉，新增下面一条
%sudo ALL=(ALL:ALL) NOPASSWD:ALL
·
·
·
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="默认使用-root-账号登入"><a href="#默认使用-root-账号登入" class="header-anchor">#</a> 默认使用 root 账号登入</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ubuntu1804.exe config --default-user root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="使用密钥登入"><a href="#使用密钥登入" class="header-anchor">#</a> 使用密钥登入</h3> <p>应该存在的 3 个文件</p> <ul><li>authorized_keys</li> <li>id_rsa.pub</li> <li>id_rsa</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/j19LM7cwOB6zrt0V.png" alt="WSL下优雅地Coding"></p> <p>编辑 <code>sshd_config</code> 配置</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">vim</span> /etc/ssh/sshd_config
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>内容如下：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>·
·
·
<span class="token comment"># SSH 端口</span>
Port <span class="token number">8022</span>
·
PubkeyAuthentication <span class="token function">yes</span>
·
AuthorizedKeysFile .ssh/authorized_keys
·
<span class="token comment"># 禁止密码登入</span>
PasswordAuthentication no
·
ChallengeResponseAuthentication no
·
·
·
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="更换-apt-源和-pip-源-阿里云"><a href="#更换-apt-源和-pip-源-阿里云" class="header-anchor">#</a> 更换 apt 源和 pip 源（阿里云）</h2> <h3 id="apt-源"><a href="#apt-源" class="header-anchor">#</a> apt 源</h3> <p>备份 apt 原文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看系统代号</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lsb_release -c
Codename:       bionic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>编辑源列表文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">vim</span> /etc/apt/sources.list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输入 <code>dG</code> 清空内容，复制保存为以下内容</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>更新软件列表</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>更新软件包</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pip-源"><a href="#pip-源" class="header-anchor">#</a> pip 源</h3> <p>创建 pip 配置文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> ~/.pip <span class="token operator">&amp;&amp;</span> <span class="token function">vim</span> ~/.pip/pip.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>复制保存以下内容</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[global]
trusted-host=mirrors.aliyun.com
index-url=http://mirrors.aliyun.com/pypi/simple/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="安装宝塔面板"><a href="#安装宝塔面板" class="header-anchor">#</a> 安装宝塔面板</h2> <p>懒人必备</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">wget</span> -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">bash</span> install.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>安装成功后，方便管理软件（Nginx / PHP / Tomcat / Docker / MongoDB / Memcached / Redis / GitLab / ...）</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/81AQi76ZMGyVpIax.png" alt="WSL下优雅地Coding"></p> <h2 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h2> <p>新建网站</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/Jy3sPQiZoe7Gbf4H.png" alt="WSL下优雅地Coding"></p> <p>修改配置（伪静态 / 运行目录 / 等等）</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/qNaMie2BW5DROmYE.png" alt="WSL下优雅地Coding"></p> <p>修改 <code>hosts</code></p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/ZKX049DHUoagNFBT.png" alt="WSL下优雅地Coding"></p> <p>访问结果</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/ywJZYbkjzHaMu4lc.png" alt="WSL下优雅地Coding"></p> <h2 id="简单的-swoole-例子"><a href="#简单的-swoole-例子" class="header-anchor">#</a> 简单的 Swoole 例子</h2> <p>在宝塔中快速安装 <code>swoole</code></p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/Jn6cV02daizrksPL.png" alt="WSL下优雅地Coding"></p> <p>在 <code>C:\workspace\work_man</code> 目录下新建文件 <code>server.php</code></p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/ZSqnK0WgTQuUEkiv.png" alt="WSL下优雅地Coding"></p> <p>使用 <code>putty</code> 连接 <code>ubuntu</code>，打开两个连接</p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/UBlrbf9CXuVSxQ20.png" alt="WSL下优雅地Coding"></p> <p>连接 ①，执行 <code>server.php</code>，创建一个 TCP 服务器</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> /mnt/c/workspace/work_man/
$ php server.php
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/hm57xtD3yE2LpYC6.png" alt="WSL下优雅地Coding"></p> <p>连接 ②，发送消息</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ telnet <span class="token number">127.0</span>.0.1 <span class="token number">9501</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/8H2etFw5hudVxoKk.png" alt="WSL下优雅地Coding"></p> <h2 id="开机自启"><a href="#开机自启" class="header-anchor">#</a> 开机自启</h2> <h3 id="ubuntu-中新增脚本"><a href="#ubuntu-中新增脚本" class="header-anchor">#</a> ubuntu 中新增脚本</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">vim</span> /etc/init.wsl
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>内容如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#! /bin/sh
service ssh $1
service mysqld $1
service bt $1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>添加执行权限</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">chmod</span> +x /etc/init.wsl
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="windows-中新增脚本"><a href="#windows-中新增脚本" class="header-anchor">#</a> Windows 中新增脚本</h3> <p>打开 <code>开机自启目录</code> ：<code>%AppData%\Microsoft\Windows\Start Menu\Programs\Startup</code></p> <blockquote><p>快捷打开：<code>Win</code>+<code>R</code>，输入 <code>shell:startup</code> 回车</p></blockquote> <p>新增脚本文件 <code>wsl.vbs</code>，内容如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Set ws = CreateObject(&quot;Wscript.Shell&quot;)
ws.run &quot;ubuntu1804 run sudo /etc/init.wsl start&quot;, vbhide
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>允许该脚本开机自启，杀毒软件中添加信任</p></blockquote> <h2 id="phpstorm-配置"><a href="#phpstorm-配置" class="header-anchor">#</a> PHPStorm 配置</h2> <h3 id="terminal-配置"><a href="#terminal-配置" class="header-anchor">#</a> Terminal 配置</h3> <p><code>File</code>→<code>Settings</code>→<code>Tools</code>→<code>Terminal</code>→<code>Shell path</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>C:\Windows\System32\wsl.exe
// 或者 Ubuntu 18.04
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/RD8VL4mbaUFeCPEj.png" alt="WSL下优雅地Coding"></p> <h3 id="node-配置"><a href="#node-配置" class="header-anchor">#</a> Node 配置</h3> <p><code>File</code>→<code>Settings</code>→<code>Languages &amp; Frameworks</code>→<code>Typescript</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Ubuntu 18.04 /usr/local/bin/node
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/hiBJALqrnDPuWEUl.png" alt="WSL下优雅地Coding"></p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/ohMkergPB3AjDlX5.png" alt="WSL下优雅地Coding"></p> <h2 id="yarn-的安装"><a href="#yarn-的安装" class="header-anchor">#</a> Yarn 的安装</h2> <p>配置下载仓库</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> -sS https://dl.yarnpkg.com/debian/pubkey.gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;deb https://dl.yarnpkg.com/debian/ stable main&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/yarn.list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>安装（更新至最新版本）</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">yarn</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>更换镜像源</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry <span class="token string">&quot;https://registry.npm.taobao.org&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="已踩的坑"><a href="#已踩的坑" class="header-anchor">#</a> 已踩的坑</h2> <h3 id="死活连不上的-ssh"><a href="#死活连不上的-ssh" class="header-anchor">#</a> 死活连不上的 SSH</h3> <p>重装 <code>openssh-server</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> purge openssh-server
$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> openssh-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="unix-socket"><a href="#unix-socket" class="header-anchor">#</a> Unix Socket</h3> <p>WSL 中的 Unix Socket 似乎有点问题，修改 Nginx 配置</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>·
·
·
fastcgi_buffering off;
·
·
·
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="莫名其妙的-502"><a href="#莫名其妙的-502" class="header-anchor">#</a> 莫名其妙的 502</h3> <p>原因未知，求大佬告知，临时解决方法：宝塔中安装 <code>PHP 守护</code></p> <p><img src="https://cdn.jsdelivr.net/gh/cnguu/pic@master/20190316/2a4XVUzoMfYqSyum.png" alt="WSL下优雅地Coding"></p> <p>还是不行的话，只能重启 <code>php-fpm</code> 服务了</p> <h3 id="权限争夺"><a href="#权限争夺" class="header-anchor">#</a> 权限争夺</h3> <ul><li>不要在编辑器中 <code>删除</code> 文件或文件夹！！！两个系统会出现争权行为，导致文件或文件夹出现不可访问问题（实际已经删除，只是电脑还会显示，重启电脑可解决）</li> <li>正确删除操作：在 <code>我的电脑</code> 里删除</li></ul></div></div></div> <div class="post-footer"><div class="post-footer-reward"><button type="button" class="ant-btn ant-btn-circle ant-btn-lg"><i aria-label="图标: money-collect" class="anticon anticon-money-collect"><svg viewBox="64 64 896 896" focusable="false" data-icon="money-collect" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"></path></svg></i></button></div> <div class="post-footer-copyright"><span style="float:left;"><i aria-label="图标: copyright" class="anticon anticon-copyright"><svg viewBox="64 64 896 896" focusable="false" data-icon="copyright" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z"></path></svg></i>
          版权说明
        </span> <span style="float:right;"><i aria-label="图标: calendar" class="anticon anticon-calendar"><svg viewBox="64 64 896 896" focusable="false" data-icon="calendar" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"></path></svg></i>
          1/23/2020
        </span></div> <div class="post-footer-tag"><span class="tag ant-tag">
        WSL
      </span><span class="tag ant-tag">
        Windows10
      </span></div></div> <div class="post-catalog"><button type="button" class="ant-btn ant-btn-circle ant-btn-lg ant-btn-icon-only"><i aria-label="图标: ordered-list" class="anticon anticon-ordered-list"><svg viewBox="64 64 896 896" focusable="false" data-icon="ordered-list" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 0 0-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 0 0 2.1-5.4V432c0-2.2-1.8-4-4-4z"></path></svg></i></button> <!----></div></div></main> <footer id="footer"><div class="footer-container"><div class="content"><span>
            © 2019-2024 
            月上陌阡
          </span></div> <a href="http://beian.miit.gov.cn/" target="_blank" class="bei-an">
            粤 ICP 备 17075980 号 - 4
          </a></div></footer></div><div class="global-ui"></div></div>
    <script src="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/app.a84daea7.js" defer></script><script src="https://cdn.jsdelivr.net/gh/cnguu/cnguu.github.io@master/assets/js/52.d63fb077.js" defer></script>
  </body>
</html>
